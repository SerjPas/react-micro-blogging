(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=(a(91),a(191)),i=(a(59),a(76)),s=a(21),u=a(188),m=a(30),d=a.n(m),h=a(41),f=a(177),p=a(193),E=a(181),g=function(){return r.a.createElement("div",{className:"error140"},"The tweet can't contain more then 140 chars.")},b=a(50),w=a.n(b),v="https://fullstack-web-course.ew.r.appspot.com/";var y=a(42),j=r.a.createContext({tweets:[],addTweet:function(){},addTweets:function(){},setErrorMessege:function(){}}),x=a(138),O=Object(x.a)((function(){return{root:{marginTop:47,border:"2px solid white",height:180,color:"white",backgroundColor:"#16202C"},button:{position:"relative",bottom:-84,left:-10,backgroundColor:"#007BFF",width:68,height:34,borderRadius:4,alignSelf:"flex-end"}}})),N=function(){var e=O(),t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useContext)(j),i=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),a=localStorage.getItem("userName"),n=JSON.parse(a),""!==o&&Object(y.trackPromise)((r={content:o,date:(new Date).toISOString(),userName:n},w.a.post("".concat(v,"tweet"),r)).then((function(e){var t=e.data;console.log(t),l.addTweet(t)})).catch((function(e){l.setErrorMessege(e.message)}))),c("");case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(f.a,{className:e.root},r.a.createElement("form",{className:"form",onSubmit:i},r.a.createElement(p.a,{onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),i())},inputProps:{maxLength:140,style:{color:"white"}},multiline:!0,style:{width:"100%"},rows:9,className:"input",autoFocus:!0,id:"tweet",name:"tweetInput",placeholder:"What you have in mind...",value:o,onChange:function(e){return c(e.target.value)},required:!0}),140===o.length?r.a.createElement(g,null):r.a.createElement("span",null),r.a.createElement(E.a,{className:e.button,disabled:140===o.length,type:"submit",variant:"contained",color:"primary"},"Tweet")))},C=a(180),S=a(183),k=a(186),T=a(187),D=a(185),I=a(184),P=a(182),F=Object(P.a)({root:{minWidth:"100%",backgroundColor:"#343A40",color:"white"}}),W=function(){var e=F(),t=Object(n.useContext)(j);return r.a.createElement(C.a,null,t.tweets.map((function(t){return r.a.createElement(S.a,{style:{paddingLeft:"0",paddingRight:"0"},key:t.id},r.a.createElement(f.a,{className:e.root,style:{minHeight:"100px"}},r.a.createElement(I.a,null,r.a.createElement("span",{style:{color:"#6C757D"}},t.userName),r.a.createElement("span",{style:{marginLeft:"auto",color:"#6C757D"}},t.date)),r.a.createElement(D.a,null,r.a.createElement(k.a,null,r.a.createElement(T.a,{style:{wordWrap:"break-word"}},t.content)))))})))},B=a(73),R=a.n(B),J=function(){return r.a.createElement("div",{style:{width:"100%",height:"100",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(R.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"}))},L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),l=Object(s.a)(c,2),m=l[0],d=l[1],h=Object(n.useState)(""),f=Object(s.a)(h,2),p=f[0],E=f[1],g=Object(y.usePromiseTracker)().promiseInProgress;Object(n.useEffect)((function(){setInterval((function(){return w.a.get("".concat(v,"tweet")).then((function(e){var t=e.data;o(t.tweets),d(!1)})).catch((function(e){E(e.message)}))}),1e3)}),[]);return r.a.createElement(j.Provider,{value:{tweets:a,addTweet:function(e){o([e].concat(Object(i.a)(a)))},addTweets:function(e){o(e)},setErrorMessege:function(e){E(e)}}},r.a.createElement("div",null,r.a.createElement(u.a,{maxWidth:"sm"},r.a.createElement(N,null),g||m?r.a.createElement(J,null):"",p&&r.a.createElement("h3",{className:"error"},p),r.a.createElement(W,null))))},M=a(189),A=a(190),q=a(74),H=a(39),K=function(){return r.a.createElement(q.a,null,r.a.createElement(M.a,{style:{backgroundColor:"#343A40",borderRadius:"6px",alignSelf:"center"},position:"static"},r.a.createElement(A.a,null,r.a.createElement(H.b,{style:{textDecoration:"none"},to:"/tweets"},r.a.createElement(T.a,{variant:"h5",style:{color:"white"}},"Home")),r.a.createElement(H.b,{style:{textDecoration:"none"},to:"/"},r.a.createElement(T.a,{variant:"h5",style:{marginLeft:"45px",color:"white"}},"Profile")))))},U=a(75),Y=a(179),$=Object(x.a)((function(){return{root:{marginTop:52,width:545,backgroundColor:"#16202C",margin:0},button:{marginTop:16,backgroundColor:"#007BFF",width:68,height:34,borderRadius:4,alignSelf:"flex-end"},container:{width:"76%",display:"flex",justifyContent:"center"},input:{height:"61px",color:"white",border:"2px solid white",borderRadius:"6px"}}})),z=function(){var e=$(),t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],f=i[1],p=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.setItem("userName",JSON.stringify(o)),f(!0),c("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{className:e.container},r.a.createElement("div",{className:e.root},m?r.a.createElement("div",null,r.a.createElement(T.a,{style:{margin:"45px",color:"white"},variant:"h5",color:"inherit"},"You successfully logged in!")):r.a.createElement("form",{className:"user-form",onSubmit:p},r.a.createElement("h1",{className:"margin-top-52px, h1-custom"},"Profile"),r.a.createElement("h3",{className:"h3-custom"},"User Name"),r.a.createElement("label",{htmlFor:"userName"}),r.a.createElement(Y.a,{className:e.input,autoFocus:!0,id:"userName",name:"name",value:o,onChange:function(e){c(e.target.value)},inputProps:{"aria-label":"description"},required:!0}),r.a.createElement(E.a,{className:e.button,type:"submit",variant:"contained",color:"primary"},"Save"))))},G=a(10),Q=a(192);var V=function(){return r.a.createElement("div",null,r.a.createElement(H.a,null,r.a.createElement(l.a,null),r.a.createElement(U.a,null,r.a.createElement(Q.a,{container:!0,style:{justifyContent:"center",display:"flex"}},r.a.createElement(Q.a,{item:!0,xs:12,lg:8},r.a.createElement(K,null))),r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/"},r.a.createElement(z,null)),r.a.createElement(G.a,{path:"/tweets"},r.a.createElement(L,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,a){},86:function(e,t,a){e.exports=a(137)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.aa265e3a.chunk.js.map